<!DOCTYPE html>
<html>
{% load staticfiles %}
<head>
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="{% static "login.css" %}">
</head>
<body>
{% if user.is_authenticated %}
<script type="text/javascript">
  alert('잘못된 접근입니다!')
  window.location.href = '/';
</script>
{% else %}
<div id="perspective">
  <div id="container"></div>
</div>
    <div class="row-fluid">
        <div class="col-md-3 col-sm-6 col-xs-10 login-box">
            <div class="row login-box-header">
                <div class="col-md-12 col-sm-12 logo">
                    <img src="{% static 'badass.ico'%}">
                </div>
                <div class="col-md-12 col-sm-12 company-name text-center">
                    <h3>로그인</h3>
                </div>
            </div>
            <div class="row login-box-body">
                <ul class="nav nav-tabs-custom">
                    <li class="active"><a href="#login" data-toggle="tab">Login</a></li>
                    <li><a href="{% url "accounts:signup" %}" target="_blank">Register</a></li>
                </ul>
                <div class="tab-content">
                    <div class="tab-pane fade in active" id="login">
                        <form method="post" class="sign-in-form">
                          {%csrf_token%}

                              <div class="col-md-12 form-body">
                          {% if form.errors %}
                          <p>아이디와 패스워드가 일치하지 않습니다!</p>
                          {% endif %}
                          {% if next %}
                              {% if user.is_authenticated %}
                              <p>access 권한이 없습니다! access 할 수 있는 계정으로 로그인하세요.</p>
                              {% else %}
                              <p>페이지를 보려면 로그인하세요.</p>
                              {% endif %}
                          {% endif %}
                                  <div class="input-group">
                                    <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                                    <input class="form-control" id="{{ form.username.id_for_label }}" maxlength="15" name="{{ form.username.html_name }}" placeholder="아이디" type="text" />
                                  </div>
                                  <br>
                                      <div class="input-group">
                                        <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                                        <input class="form-control" id="{{ form.password.id_for_label }}" maxlength="120" name="{{ form.password.html_name }}" placeholder="패스워드" type="password" />
                                      </div>

                                </div>
                                      <div class="col-md-12 form-footer text-center">
                                        <input type="submit" class="btn btn-block" value="로그인">
                                      </div>
                                  <br>
                                      <a href="{% url 'root' %}">
                                        <button type="button" class="btn btn-block">취소</button>
                                      </a>
                                  <input type="hidden" name="next" value="{{ next }}" />
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endif %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js"></script> 
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> 
<script>
        var n = 100;
    var frames = [];

    frames.push({transform: 'none'})
    var frameCount = 3 + Math.random() * 8;
    var translate = 0;
    var rotate = 0;
    var rotateY = 0;
    var scale = 1;
    var z = 0;
    for (var i = 0; i < frameCount; i++) {
      z += (0.5 - Math.random()) * 100;
      scale += (0.5 - Math.random()) * 2;
      rotate += (0.5 - Math.random()) * 1080;
      rotateY += (0.5 - Math.random()) * 1080;
      translate += (0.5 - Math.random()) * 500;
      frames.push({
        transform: 'rotate(' + rotate + 'deg) rotateY(' + rotateY + 'deg) translateX(' + translate + 'px) scale(' + scale + ') translateZ(' + z + 'px)',
      });
    }
    frames.push({transform: 'none'})

    var duration = frames.length * 5000;

    for (var i = 0; i < n; i++) {
      var ball = document.createElement('ball');
      var color = 'rgb(' + Math.round((i / n) * 256) + ', 128, 200)';
      ball.style.background = color;
      document.body.appendChild(ball);
      ball.classList.add('ball');
      ball.animate(frames, {
        duration: duration,
        iterations: Infinity,
        delay: i / n * -duration,
      });
    }
</script>
</body>
</html>